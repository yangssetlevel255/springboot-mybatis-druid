<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dhu.love.project.mapper.UserRequirementMapper">

    <!-- 新增客户需求-->
    <insert id="addUserRequirement" useGeneratedKeys="true" keyProperty="rid" parameterType="int,com.dhu.love.project.entity.UserRequirement">
        insert into table customer_requirement(customer_id,tdivorce,tdivorce_p,tchild,tchild_p,tlocal,tlocal_p,thouse,thouse_p
        ,tcar,tcar_p,tsalary,tsalary_p,teducation,teducation_p,tbirthmin,tbirthmax,tbirth_p,requirement,requirement_p
        ,tprofession,tprofession_p) values(#{customer_id},#{tdivorce},#{tdivorce_p},#{tchild},#{tchild_p}
        ,#{tlocal},#{tlocal_p},#{thouse},#{thouse_p},#{tcar},#{tcar_p},#{tsalary},#{tsalary_p}
        ,#{teducation},#{teducation_p},#{tbirthmin},#{tbirthmax},#{tbirth_p}
        ,#{requirement},#{requirement_p},#{tprofession},#{tprofession_p});
    </insert>

    <!-- 更新用户需求-->
    <update id="updateUserRequirement" useGeneratedKeys="true" keyProperty="rid" parameterType="com.dhu.love.project.entity.UserRequirement">
        update table customer_requirement
        set tdivorce=#{tdivorce},tdivorce_p=#{tdivorce_p},tchild=#{tchild},tchild_p=#{tchild_p},tlocal=#{tlocal},
        tlocal_p=#{tlocal_p},thouse=#{thouse},thouse_p=#{thouse_p},tcar=#{tcar},tcar_p=#{tcar_p},tsalary=#{tsalary},
        tsalary_p=#{tsalary_p},teducation=#{teducation},teducation_p=#{teducation_p},tbirthmin=#{tbirthmin},
        tbirthmax=#{tbirthmax},tbirth_p=#{tbirth_p},requirement=#{requirement},requirement_p=#{requirement_p},
        tprofession=#{tprofession},tprofession_p=#{tprofession_p}
        where rid=#{rid};
    </update>

    <!-- 删除用户需求-->
    <delete id="deleteUserRequirement" parameterType="int">
        delete * from customer_requirement where customer_id=#{customer_id};
    </delete>

</mapper>